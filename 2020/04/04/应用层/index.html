<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"hoo334.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="本文为复习计算机网络整理的资料。">
<meta property="og:type" content="article">
<meta property="og:title" content="应用层">
<meta property="og:url" content="https://hoo334.github.io/2020/04/04/%E5%BA%94%E7%94%A8%E5%B1%82/index.html">
<meta property="og:site_name" content="echo">
<meta property="og:description" content="本文为复习计算机网络整理的资料。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://gitee.com/hoo334/picgo/raw/master//img/YfH16xOIqM4p5SB.png">
<meta property="og:image" content="https://gitee.com/hoo334/picgo/raw/master//img/jiIY6to5ZTGnhbB.png">
<meta property="og:image" content="https://gitee.com/hoo334/picgo/raw/master//img/MYlKHhTdcOXG1yo.png">
<meta property="og:image" content="https://gitee.com/hoo334/picgo/raw/master//img/TWcnYbumtrf46jG.png">
<meta property="og:image" content="https://gitee.com/hoo334/picgo/raw/master//img/mL9shJUbPAdkfYS.png">
<meta property="og:image" content="https://gitee.com/hoo334/picgo/raw/master//img/GkUHhObCvaygi7Z.png">
<meta property="og:image" content="https://gitee.com/hoo334/picgo/raw/master//img/3iuyE4KN7TogBsz.png">
<meta property="og:image" content="https://gitee.com/hoo334/picgo/raw/master//img/ChsAGEzXFHxfRVk.png">
<meta property="og:image" content="https://gitee.com/hoo334/picgo/raw/master//img/nib94M5QDNgkAy3.png">
<meta property="og:image" content="https://gitee.com/hoo334/picgo/raw/master//img/HqsRhgfN4BPynmj.png">
<meta property="og:image" content="https://gitee.com/hoo334/picgo/raw/master//img/mN2ThOy3YQ47BdH.png">
<meta property="article:published_time" content="2020-04-04T06:39:13.000Z">
<meta property="article:modified_time" content="2020-07-17T11:33:42.405Z">
<meta property="article:author" content="hoo334">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/hoo334/picgo/raw/master//img/YfH16xOIqM4p5SB.png">

<link rel="canonical" href="https://hoo334.github.io/2020/04/04/%E5%BA%94%E7%94%A8%E5%B1%82/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>应用层 | echo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="echo" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">echo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">任生命穿梭 时间的角落 </p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://hoo334.github.io/2020/04/04/%E5%BA%94%E7%94%A8%E5%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar2.jpg">
      <meta itemprop="name" content="hoo334">
      <meta itemprop="description" content="弃坑C++，转Java！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="echo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          应用层
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-04 14:39:13" itemprop="dateCreated datePublished" datetime="2020-04-04T14:39:13+08:00">2020-04-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-17 19:33:42" itemprop="dateModified" datetime="2020-07-17T19:33:42+08:00">2020-07-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">计算机网络</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
            <div class="post-description">本文为复习计算机网络整理的资料。</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="网络应用模型"><a href="#网络应用模型" class="headerlink" title="网络应用模型"></a>网络应用模型</h3><h4 id="客户-服务器模型"><a href="#客户-服务器模型" class="headerlink" title="客户/服务器模型"></a>客户/服务器模型</h4><p>　　在客户/服务器模型（Client/Server，C/S）模型中，有一个总是打开的主机称为服务器，它服务于许多来自其他称为客户机的主机请求。</p>
<p>　　其工作流程如下：</p>
<p>　　1）服务器处于接收请求的状态。</p>
<p>　　2）客户机发出服务请求，并等待接收结果。</p>
<p>　　3）服务器收到请求后，分析请求，进行必要的处理，得到结果并发送给客户机。</p>
<p>　　客户程序必须知道服务器程序的地址。常见的使用客户/服务器模型的应用包括 Web、文件传输协议（FTP）、远程登录和电子邮件等。</p>
<p>　　客户/服务器模型的主要特点还有：</p>
<p>　　1）网络中各计算机的地位不平等，服务器可以通过对用户权限的控制来达到管理客户机的目的。整个网络的管理工作由少数服务器担当。</p>
<p>　　2）客户机之间不直接通信。</p>
<p>　　3）可扩展性不佳，受服务器硬件和带宽的限制，服务器支持的客户机有限。</p>
<p>　　</p>
<h4 id="P2P模型"><a href="#P2P模型" class="headerlink" title="P2P模型"></a>P2P模型</h4><p>　　在C/S 模型中，服务器性能的好坏决定了整个系统的性能。当大量的用户请求服务时，服务器必然成为系统的瓶颈。P2P 模型的思想是整个网络中的传输内容不再被保留在中心服务器上，每个结点都同时具有下载、上传的功能，其权利和义务都是大体对等的。</p>
<p><img src="https://gitee.com/hoo334/picgo/raw/master//img/YfH16xOIqM4p5SB.png" alt="img"></p>
<p> 　与C/S 模型相比，P2P 模型的优点主要体现在：</p>
<p>　　1）减轻服务器的计算压力，消除了对某个服务器的完全依赖。</p>
<p>　　2）多个客户机之间可以直接共享文档。</p>
<p>　　3）可扩展性好。</p>
<p>　　4）网络健壮性强。</p>
<h3 id="域名系统"><a href="#域名系统" class="headerlink" title="域名系统"></a>域名系统</h3><h4 id="层次域名空间"><a href="#层次域名空间" class="headerlink" title="层次域名空间"></a>层次域名空间</h4><p>　　因特网采用层次树状结构的命名方法。采用这种命名方法，任何一个连接到因特网的主机或路由器，都有一个唯一的层次结构名称，即域名（Domain Name）。域（Domain）是名字空间中一个可被管理的划分。域可以划分为子域，子域也能划分。这样就形成了顶级域、二级域、三级域等。每个域名都由标号序列组成，各标号之间用（“.”）隔开。</p>
<p><img src="https://gitee.com/hoo334/picgo/raw/master//img/jiIY6to5ZTGnhbB.png" alt="img"></p>
<p> 　域名中标号要注意：</p>
<p>　　1）标号中的英文不区分大小写。</p>
<p>　　2）标号中除连字符（-）外不允许使用其他的标点符号。</p>
<p>　　3）每个标号不超过 63 个字符，多标号组成的完整域名最长不超过 255 个字符。</p>
<p>　　4）级别最低的域名写在最左边，级别最高的域名写在最右边。</p>
<p>　　</p>
<p>　　顶级域名（Top Level Domain）分为如下三大类：</p>
<p>　　1）国家顶级域名。国家和某些地区的域名，“.cn”表示中国。</p>
<p>　　2）通用顶级域名。常见的“.com”（公司）、“.net”（网络服务机构）、“.org”（非盈利性组织）</p>
<p>　　3）基础结构域名。 arpa 用于反向域名解析。</p>
<p><img src="https://gitee.com/hoo334/picgo/raw/master//img/MYlKHhTdcOXG1yo.png" alt="img"></p>
<h4 id="域名服务器"><a href="#域名服务器" class="headerlink" title="域名服务器"></a>域名服务器</h4><p>　　域名到 IP 地址的解析是由运行在域名服务器上的程序完成的，一个服务器所管辖的范围称为区。每个域名服务器不但能够进行一些域名到 IP 地址的解析，而且还必须具有连向其他域名服务器的信息。当自己不能进行域名到 IP 地址的转换时，能够知道到什么地方去找其他域名服务器。</p>
<p>　　DNS 使用了大量的域名服务器，它们以层次方式组织。采用分布式设计的 DNS，是一个在因特网上实现分布式数据库的精彩范例。</p>
<p>　　主要有 4 种类型的域名服务器：</p>
<p>　　1）根域名服务器。根域名服务器是最高层次的服务器，所有根域名服务器都知道所有顶级域名服务器的 IP 地址。根域名服务器也是最重要的域名服务器。<strong>根域名服务器用来管理顶级域（如.com），通常它并不直接把待查询的域名直接转换为 IP 地址，而是告诉本地域名服务器下一步应当找哪一个顶级域名服务器进行查询。</strong></p>
<p>　　2）顶级域名服务器。负责管理在该顶级域名服务器注册的所有二级域名。收到 DNS 查询请求时，就给出相应的回答（可能是最后的结果，也可能是下一步应当查找的域名服务器的 IP 地址）。</p>
<p>　　3）授权域名服务器（权限域名服务器）。授权域名服务器总能将其管辖的主机名转换为该主机的IP 地址。</p>
<p>　　4）本地域名服务器。当一台主机发出 DNS 查询请求时，这个查询请求报文就发送给该主机的本地域名服务器。我们在 Windows 系统中配置“本地连接” 时，就需要填写 DNS 地址，这个地址就是本地 DNS 的地址。</p>
<p><img src="https://gitee.com/hoo334/picgo/raw/master//img/TWcnYbumtrf46jG.png" alt="img"></p>
<h4 id="域名解析过程"><a href="#域名解析过程" class="headerlink" title="域名解析过程"></a>域名解析过程</h4><p>　　域名解析是指把<strong>域名映射成为 IP 地址</strong>或把 IP 地址映射成域名的过程。前者称为<strong>正向解析</strong>，后者称为反向解析。当客户端需要域名解析时，通过本机的额DNS 客户端构造一个 DNS 的请求报文， 以 <strong>UDP 数据报</strong>方式发往本地域名服务器。域名解析有两种方式：递归查询和递归与迭代相结合的查询。<strong>递归查询给根服务器造成的负载过大，在实际中几乎不使用。</strong></p>
<p>　　常用递归与迭代相结合的查询方式如下图所示。 </p>
<p><img src="https://gitee.com/hoo334/picgo/raw/master//img/mL9shJUbPAdkfYS.png" alt="img"></p>
<p> 　假定客户机想获知域名为 y.abc.com主机地 IP 地址，域名解析地过程（用使用 8 个UDP 报文）如下：</p>
<p>　　1）客户机向本地域名服务器发出 DNS 请求报文。</p>
<p>　　2）本地域名服务器收到后查询本地缓存，若有记录直接返回。若没有记录，以 DNS 客户的身份向根域名服务器发起解析请求。</p>
<p>　　3)根域名服务器收到请求后，判断该域名属于 .com 域，将对应的顶级域名服务器 dns.com 的 IP 地址返回给本地域名服务器。</p>
<p>　　4）本地域名服务器向 顶级域名服务器 dns.com 发出解析请求报文。</p>
<p>　　5）顶级域名服务器 dns.com 接收到请求后，判断该域名属于 abc.com域，因此将对应的授权域名服务器 dns.abc.com 的 IP 地址返回给本地域名服务器。</p>
<p>　　6）本地域名服务器向 dns.abc.com 发起解析请求报文。</p>
<p>　　7）授权域名服务器 dns.abc.com 收到请求后将 查询结果返回给本地域名服务器。</p>
<p>　　8）本地域名服务器将查询结果保存到本地缓存，同时返回给客户机。</p>
<p>　　为了提高 DNS 的查询效率，并减少互联网上的 DNS 查询报文数量，在域名服务器中广泛地使用了高速缓存。当一个 DNS 服务器接收到 DNS 查询结果时，它能将该 DNS 信息缓存在高速缓存中。</p>
<p>　　</p>
<h3 id="文件传输协议（FTP）"><a href="#文件传输协议（FTP）" class="headerlink" title="文件传输协议（FTP）"></a>文件传输协议（FTP）</h3><h4 id="FTP-的工作原理"><a href="#FTP-的工作原理" class="headerlink" title="FTP 的工作原理"></a>FTP 的工作原理</h4><p>　　文件传输协议（File Transfer Protocol，FTP）是因特网上使用的最广泛的文件传输协议。FTP 提供交互式的访问，允许客户指明文件的类型与格式，并允许文件具有存取权限。它屏蔽了各计算机系统的细节，适合于在异构网络中的任意计算机之间传送文件。</p>
<p>　　FTP 提供以下功能：</p>
<p>　　1）提供不同种类主机系统之间的文件传输能力。</p>
<p>　　2）以用户权限管理的方式提供用户对远程 FTP 服务器上的文件管理能力。</p>
<p>　　3）以匿名 FTP 的方式提供公用文件共享的能力。</p>
<p>　　FTP 采用 客户/服务器的工作方式，它使用 TCP 可靠的传输服务。一个 FTP 服务器可同时为多个客户机进程提供服务。FTP 的服务器进程由两大部分组成：一个主进程，负责接收新的请求；另外由若干从属进程，负责处理单个请求。</p>
<p>　　其工作步骤如下：</p>
<p>　　1）打开熟知端口21（控制端口），使客户进程能够连接上。</p>
<p>　　2）等待客户进程发连接请求。</p>
<p>　　3）启动从属进程来处理客户进程发来的请求。主进程与从属进程并发执行，从属进程处理完客户的请求后终止。</p>
<p>　　4）回到等待状态。</p>
<p>　　</p>
<h4 id="控制连接与数据连接"><a href="#控制连接与数据连接" class="headerlink" title="控制连接与数据连接"></a>控制连接与数据连接</h4><p>　　FTP 在工作时使用两个并行的 TCP 连接：<strong>一个控制连接（端口号21），一个是数据连接（端口号20）</strong>。</p>
<p>　　1）控制连接。服务器监听21端口，等待客户连接，控制连接用来传递控制信息 以7位 ASCII 格式传送。</p>
<p>　　2）数据连接。服务器端接收到客户端发来的文件传输请求后，创建数据传送进程和数据连接。数据连接用来连接客户端和服务器端的数据传送进程，数据传送进程实际完成文件的传送，在传送完毕后关闭“数据传送连接”并结束运行。</p>
<h3 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h3><h4 id="电子邮件系统的组成结构"><a href="#电子邮件系统的组成结构" class="headerlink" title="电子邮件系统的组成结构"></a>电子邮件系统的组成结构</h4><p>　　一个电子邮件系统应具有三个最主要的组成构件，用户代理（User Agent）、邮件服务器和电子邮件使用的协议，如 SMTP、POP3（或 IMAP）等。</p>
<p><img src="https://gitee.com/hoo334/picgo/raw/master//img/GkUHhObCvaygi7Z.png" alt="img"></p>
<p>​        用户代理（UA）：用户与电子邮件系统的接口。通常情况下，就是一个运行在PC上的程序。</p>
<p>　　邮件服务器：组成电子邮件系统的核心。邮件服务器的功能是发送和接收邮件，同时还要向发信人报告邮件的传送情况。邮件服务器采用C/S方式工作，但是它能够同时充当客户和服务器。</p>
<p>　　邮件发送协议和读取协议：邮件发送协议用于在用户代理向邮件服务器发送邮件或在邮件服务器之间发送邮件，通常使用 SMTP；邮件读取协议用于用户代理从邮件服务器读取邮件，如 POP3；SMTP 主动将邮件推到服务器，POP3 向邮件服务器发出请求拉取用户邮箱的邮件。</p>
<p><img src="https://gitee.com/hoo334/picgo/raw/master//img/3iuyE4KN7TogBsz.png" alt="img"></p>
<h4 id="电子邮件格式与MIME"><a href="#电子邮件格式与MIME" class="headerlink" title="电子邮件格式与MIME"></a>电子邮件格式与MIME</h4><p>　　1、电子邮件格式</p>
<p>​        一个电子邮件分为信封和内容两大部分，邮件内容又分为首部和主体两部分。To：为收件人，Subject：为主题。</p>
<p>　　2、多用途网络邮件扩充 MIME</p>
<p>　　SMTP 只能传送一定长度的 ASCII 码且无法传送可执行文件及其他二进制对象，因此提出了多用途网络邮件扩充（Multipurpose Internet Mail Extensions）。MIME 增加了邮件主体的结构，并定义了传送非ASCII 码的编码规则。并未改动SMTP 或取代它。</p>
<p>　　MIME 主要包括以下三部分内容：</p>
<p>　　1）5 个新的邮件首部字段，包括 MIME 版本、内容描述、内容标识、内容传送编码和内容类型。</p>
<p>　　2）定义了许多邮件内容的格式，对多媒体电子邮件的表示方法进行了标准化。</p>
<p>　　3）定义了传送编码，可对任何内容格式进行格式转换。</p>
<p>　　</p>
<h4 id="SMTP-和-POP3"><a href="#SMTP-和-POP3" class="headerlink" title="SMTP 和 POP3"></a>SMTP 和 POP3</h4><h5 id="SMTP"><a href="#SMTP" class="headerlink" title="SMTP"></a>SMTP</h5><p>　　简单邮件传输协议（Simple Mail Transfer Protocol）是一种提供可靠且有效的电子邮件传输的协议，它控制两个相互通信的 SMTP 进程交换信息。<strong>SMTP 使用 C/S 方式。使用 TCP 连接，端口号为25</strong>。SMTP 通信有以下三个阶段：</p>
<p>　　1）连接建立</p>
<p>​        发件人的邮件到达邮件服务器缓存之后，邮件服务器每隔一段时间对邮件缓存扫描一次。如果有邮件使用 SMTP 熟知端口（25）与接收方服务器 SMTP 服务器建立 TCP 连接。连接成功后接收方发出 220 Service ready 。发送方服务器向接收方发出 HELLO 命令，附上发送方的主机名。SMTP 不使用中间邮件服务器，TCP 总是在发送方和接收方这两个邮件服务器之间建立。</p>
<p>　　2）邮件传送</p>
<p>　　连接建立后，邮件的传送从 MAIL 命令开始，MAIL命令后面有发件人的地址。若接收方SMTP已经准备好接收 则回复 250 OK。接着发送一个或多个 RCPT命令给接收方服务器，每发送一个RCPT 命令都有相应的信息返回 250 OK 或 550 No such user here。RCPT的作用是检测接收方是否做好了接收邮件的准备。获取 OK 的答复之后客户端使用 DATA 命令，表示开始传输邮件的内容。</p>
<p>　　3）连接释放</p>
<p>　　邮件发送完后，SMTP 客户发送 QUIT 命令SMTP 服务器返回211（服务关闭）。</p>
<p>　　</p>
<h5 id="POP3"><a href="#POP3" class="headerlink" title="POP3"></a>POP3</h5><p>　　邮局协议（Post Office Protocol，POP）是一个非常简单但功能有限的邮件读取协议。POP 也使用C/S 工作方式，在传输层使用 TCP，端口号为 110。POP 有两种工作方式：下载并保留，下载并删除。这里的保留和删除指是否保留服务器上的邮件。</p>
<p>　　另一个邮件接收协议是因特网报文存取协议（IMAP），它比POP复杂得多，IMAP 为用户提供了创建文件夹等命令。</p>
<p>　　</p>
<h3 id="万维网（WWW）"><a href="#万维网（WWW）" class="headerlink" title="万维网（WWW）"></a>万维网（WWW）</h3><h4 id="WWW-的概念与组成结构"><a href="#WWW-的概念与组成结构" class="headerlink" title="WWW 的概念与组成结构"></a>WWW 的概念与组成结构</h4><p>　　万维网（Word Wide Web，WWW）是一个资料空间，在这个空间中：一样有用的事务称为一样资源，并由一个“全域统一资源定位符（URL）”标识。这些资源通过超文本传输协议（HTTP）传送给使用者。</p>
<p>　　万维网的内核部分是由三个标准构成的：</p>
<p>　　1）统一资源定位符（URL）。负责标识万维网上的各种文档。</p>
<p>　　2）超文本传输协议（HTTP）。应用层协议，使用TCP连接进行可靠的传输。</p>
<p>　　3）超文本标记语言（HTML）。一种文档结构的标记语言。</p>
<p>　　URL 的一般形式是：&lt;协议&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;</p>
<p>　　常见的协议有 http、ftp 等。</p>
<p>　　万维网以C/S方式工作，浏览器是用户计算机上的万维网客户程序。</p>
<p>　　</p>
<h4 id="超文本传输协议（HTTP）"><a href="#超文本传输协议（HTTP）" class="headerlink" title="超文本传输协议（HTTP）"></a>超文本传输协议（HTTP）</h4><p>　　HTTP 是面向事务的应用层协议，它规定了在浏览器和服务器之间的请求和响应的格式与规则，是万维网上能够可靠地交换文件的重要基础。</p>
<h5 id="HTTP-的操作过程"><a href="#HTTP-的操作过程" class="headerlink" title="HTTP 的操作过程"></a>HTTP 的操作过程</h5><p>　　浏览器要访问 WWW 服务器时，首先要完成对 WWW 服务器的域名解析。一旦获得了服务器的 IP 地址，浏览器就通过TCP向服务器发送连接建立请求。</p>
<p>　　每个万维网站点都有一个服务器进程，它不断地监听 TCP 的端口80（默认），当监听到连接请求后就向浏览器建立连接。TCP 连接建立后，浏览器就向服务器发送请求获取某个页面的 HTTP 请求。服务器收到 HTTP 请求后，将构件所请求 Web 页的必需信息，通过 HTTP 的响应返回给浏览器。浏览器再将信息进行解释，然后将Web 页显示给用户，最后TCP 连接释放。</p>
<p>　　访问一个网站发生的事件，以访问清华网站为例。</p>
<p>　　1）浏览器分析链接指向页面的 URL （<a href="http://www.tsinghua.edu.cn/chn/index.htm）。" target="_blank" rel="noopener">http://www.tsinghua.edu.cn/chn/index.htm）。</a></p>
<p>　　2）浏览器向 DNS 请求解析 <a href="http://www.tsinghua.edu.cn" target="_blank" rel="noopener">www.tsinghua.edu.cn</a> 的 IP 地址。</p>
<p>　　3）域名系统 DNS 解析出清华大学服务器的 IP 地址。</p>
<p>　　4）浏览器与该服务器建立 TCP 连接（默认端口号为 80）</p>
<p>　　5）浏览器发出 HTTP 请求：GET/chn/index.htm。</p>
<p>　　6）服务器通过 HTTP 响应把文件 index.htm 发送给浏览器。</p>
<p>　　7）TCP 连接释放。</p>
<p>　　8）浏览器解释文件 index.htm，并将Web 页显示给用户。</p>
<p>　　总结：DNS 解析 IP 地址，建立 TCP 连接，客户端发送 HTTP 请求，服务端响应 HTTP，TCP 连接释放，浏览器渲染页面。</p>
<h5 id="HTTP-的特点"><a href="#HTTP-的特点" class="headerlink" title="HTTP 的特点"></a>HTTP 的特点</h5><p>　　HTTP 是无状态的，同一个客户第二次访问同一个服务器上的页面时，服务器的响应与第一次被访问的相同。因为服务器并不记得曾经访问过的这个用户，也不记得为该客户曾经服务过多少次。</p>
<p>　　HTTP 的无状态设计使服务器更容易支持大量并发的 HTTP 请求。在实际应用中，通常使用 Cookie 加数据库的方式来跟踪用户的活动。Cookie 是一个存储在用户主机中的文本文件，里面有一串识别码，用于Web 服务识别用户。</p>
<p>　　HTTP 既可以使用非持久连接，也可以使用持久连接（HTTP/1.1支持）。</p>
<p>　　对于非持久连接，每个网页元素的传输都需要单独建立一个TCP连接（5 张图片 5 个 TCP 连接），请求一个万维网文档所需要的事件是该文档的传输时间加上两倍往返时间 RTT。（一个 RTT 用于 TCP 连接，另一个RTT 用于请求和接收文档。三次握手的第三次可以发送HTTP请求）。</p>
<p>　　所谓持久连接，指万维网服务器在发送响应后仍然保持这条连接，使同一个客户和服务器可以继续在这条连接上传送后续的 HTTP 请求与响应报文。</p>
<p><img src="https://gitee.com/hoo334/picgo/raw/master//img/ChsAGEzXFHxfRVk.png" alt="img"></p>
<p> 　持久连接又分为非流水线和流水线两种方式。对于非流水线方式，客户收到前一个响应后才能发出下一个请求。HTTP/1.1 默认方式是使用流水线的持久连接。</p>
<h5 id="HTTP-报文结构"><a href="#HTTP-报文结构" class="headerlink" title="HTTP 报文结构"></a>HTTP 报文结构</h5><p>　　HTTP 是面向文本的，因此报文中的每个字段都是一些 ASCII 码串，并且每个字段的长度都是不确定的。</p>
<p>　　有两类 HTTP 报文：请求报文和响应报文。</p>
<p><img src="https://gitee.com/hoo334/picgo/raw/master//img/nib94M5QDNgkAy3.png" alt="img"></p>
<p> <img src="https://gitee.com/hoo334/picgo/raw/master//img/HqsRhgfN4BPynmj.png" alt="img"></p>
<h3 id="知识结构图"><a href="#知识结构图" class="headerlink" title="知识结构图"></a>知识结构图</h3><p><img src="https://gitee.com/hoo334/picgo/raw/master//img/mN2ThOy3YQ47BdH.png" alt="image-20200507171655791"></p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/04/04/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA/" rel="prev" title="数据库系统概论">
      <i class="fa fa-chevron-left"></i> 数据库系统概论
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/04/04/%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F--%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/" rel="next" title="建造者模式">
      建造者模式 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#网络应用模型"><span class="nav-number">1.</span> <span class="nav-text">网络应用模型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#客户-服务器模型"><span class="nav-number">1.1.</span> <span class="nav-text">客户&#x2F;服务器模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#P2P模型"><span class="nav-number">1.2.</span> <span class="nav-text">P2P模型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#域名系统"><span class="nav-number">2.</span> <span class="nav-text">域名系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#层次域名空间"><span class="nav-number">2.1.</span> <span class="nav-text">层次域名空间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#域名服务器"><span class="nav-number">2.2.</span> <span class="nav-text">域名服务器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#域名解析过程"><span class="nav-number">2.3.</span> <span class="nav-text">域名解析过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件传输协议（FTP）"><span class="nav-number">3.</span> <span class="nav-text">文件传输协议（FTP）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#FTP-的工作原理"><span class="nav-number">3.1.</span> <span class="nav-text">FTP 的工作原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#控制连接与数据连接"><span class="nav-number">3.2.</span> <span class="nav-text">控制连接与数据连接</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#电子邮件"><span class="nav-number">4.</span> <span class="nav-text">电子邮件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#电子邮件系统的组成结构"><span class="nav-number">4.1.</span> <span class="nav-text">电子邮件系统的组成结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#电子邮件格式与MIME"><span class="nav-number">4.2.</span> <span class="nav-text">电子邮件格式与MIME</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SMTP-和-POP3"><span class="nav-number">4.3.</span> <span class="nav-text">SMTP 和 POP3</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#SMTP"><span class="nav-number">4.3.1.</span> <span class="nav-text">SMTP</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#POP3"><span class="nav-number">4.3.2.</span> <span class="nav-text">POP3</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#万维网（WWW）"><span class="nav-number">5.</span> <span class="nav-text">万维网（WWW）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#WWW-的概念与组成结构"><span class="nav-number">5.1.</span> <span class="nav-text">WWW 的概念与组成结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#超文本传输协议（HTTP）"><span class="nav-number">5.2.</span> <span class="nav-text">超文本传输协议（HTTP）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#HTTP-的操作过程"><span class="nav-number">5.2.1.</span> <span class="nav-text">HTTP 的操作过程</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#HTTP-的特点"><span class="nav-number">5.2.2.</span> <span class="nav-text">HTTP 的特点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#HTTP-报文结构"><span class="nav-number">5.2.3.</span> <span class="nav-text">HTTP 报文结构</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#知识结构图"><span class="nav-number">6.</span> <span class="nav-text">知识结构图</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="hoo334"
      src="/images/avatar2.jpg">
  <p class="site-author-name" itemprop="name">hoo334</p>
  <div class="site-description" itemprop="description">弃坑C++，转Java！</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">147</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">34</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hoo334" title="Github → https:&#x2F;&#x2F;github.com&#x2F;hoo334" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>Github</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:liminghu98@foxmail.com" title="E-Mail → mailto:liminghu98@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">hoo334</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

</body>
</html>
